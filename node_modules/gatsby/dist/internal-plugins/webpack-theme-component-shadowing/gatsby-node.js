"use strict";

const GatsbyThemeComponentShadowingResolverPlugin = require(`.`);

exports.onCreateWebpackConfig = ({
  store,
  stage,
  getConfig,
  rules,
  loaders,
  actions
}, pluginOptions) => {
  const _store$getState = store.getState(),
        config = _store$getState.config,
        program = _store$getState.program;

  if (config.__experimentalThemes) {
    actions.setWebpackConfig({
      resolve: {
        plugins: [new GatsbyThemeComponentShadowingResolverPlugin({
          themes: config.__experimentalThemes.map(({
            resolve
          }) => resolve),
          projectRoot: program.directory
        })]
      }
    });
  }
};
//# sourceMappingURL=gatsby-node.js.map