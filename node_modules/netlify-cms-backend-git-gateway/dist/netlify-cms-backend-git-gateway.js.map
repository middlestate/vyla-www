{"version":3,"sources":["webpack://netlify-cms-backend-git-gateway/webpack/universalModuleDefinition","webpack://netlify-cms-backend-git-gateway/webpack/bootstrap","webpack://netlify-cms-backend-git-gateway/external \"netlify-cms-lib-util\"","webpack://netlify-cms-backend-git-gateway/external \"react\"","webpack://netlify-cms-backend-git-gateway/external \"netlify-cms-ui-default\"","webpack://netlify-cms-backend-git-gateway/external \"react-emotion\"","webpack://netlify-cms-backend-git-gateway/external \"netlify-cms-backend-github\"","webpack://netlify-cms-backend-git-gateway/external \"netlify-cms-backend-gitlab\"","webpack://netlify-cms-backend-git-gateway/external \"prop-types\"","webpack://netlify-cms-backend-git-gateway/external \"netlify-cms-backend-bitbucket\"","webpack://netlify-cms-backend-git-gateway/external \"lodash/partial\"","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/micro-api-client/lib/index.js","webpack://netlify-cms-backend-git-gateway/external \"lodash/intersection\"","webpack://netlify-cms-backend-git-gateway/external \"lodash/pick\"","webpack://netlify-cms-backend-git-gateway/external \"lodash/get\"","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/gotrue-js/lib/index.js","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/jwt-decode/lib/index.js","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js","webpack://netlify-cms-backend-git-gateway/external \"lodash/flow\"","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/micro-api-client/lib/pagination.js","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/gotrue-js/lib/user.js","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/gotrue-js/lib/admin.js","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/jwt-decode/lib/base64_url_decode.js","webpack://netlify-cms-backend-git-gateway//Users/erquhart/code/gh/netlify/netlify-cms/node_modules/jwt-decode/lib/atob.js","webpack://netlify-cms-backend-git-gateway/external \"immutable\"","webpack://netlify-cms-backend-git-gateway/./src/GitHubAPI.js","webpack://netlify-cms-backend-git-gateway/./src/GitLabAPI.js","webpack://netlify-cms-backend-git-gateway/./src/AuthenticationPage.js","webpack://netlify-cms-backend-git-gateway/./src/implementation.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__","__WEBPACK_EXTERNAL_MODULE__10__","__WEBPACK_EXTERNAL_MODULE__11__","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__16__","__WEBPACK_EXTERNAL_MODULE__22__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","JSONHTTPError","TextHTTPError","HTTPError","undefined","_extends","assign","target","arguments","length","source","_createClass","defineProperties","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_pagination","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","_extendableBuiltin","cls","ExtendableBuiltin","Reflect","construct","Array","from","getPrototypeOf","this","_extendableBuiltin2","response","_this","statusText","Error","captureStackTrace","stack","status","_HTTPError","data","_this2","_HTTPError2","json","_this3","API","apiURL","options","match","_sameOrigin","defaultHeaders","_headers","Content-Type","then","ok","Promise","reject","pagination","getPagination","items","path","_this4","headers","credentials","fetch","contentType","parseJsonResponse","text","default","_microApiClient","_microApiClient2","_interopRequireDefault","_user2","obj","HTTPRegexp","defaultApiURL","GoTrue","_ref","_ref$APIUrl","APIUrl","_ref$audience","audience","_ref$setCookie","setCookie","console","warn","api","aud","request","catch","err","msg","message","error","error_description","_request","email","password","method","body","JSON","stringify","remember","_setRememberHeaders","encodeURIComponent","removeSavedSession","createUser","provider","token","verify","type","tokenResponse","getUserData","user","_saveSession","recoverSession","_fromStorage","base64_url_decode","InvalidTokenError","pos","header","parse","split","e","Immutable","ANONYMOUS","ImmutablePropTypes","listOf","typeChecker","createIterableTypeChecker","List","isList","mapOf","valuesTypeChecker","keysTypeChecker","createMapOfTypeCheckerFactory","Map","isMap","orderedMapOf","OrderedMap","isOrderedMap","setOf","Set","isSet","orderedSetOf","OrderedSet","isOrderedSet","stackOf","Stack","isStack","iterableOf","Iterable","isIterable","recordOf","recordKeys","createChainableTypeChecker","propName","componentName","location","propFullName","_len","rest","_key","propValue","Record","propType","getPropType","locationName","checker","mutablePropValue","toObject","apply","concat","shape","createShapeChecker","contains","mapContains","shapeTypes","createShapeTypeChecker","list","createImmutableTypeChecker","map","orderedMap","set","orderedSet","seq","Seq","isSeq","record","isRecord","iterable","isArray","RegExp","toSource","validate","checkType","isRequired","chainedCheckType","immutableClassName","immutableClassTypeValidator","propValues","toArray","len","args","keys","keySeq","createKeysTypeChecker","_slicedToArray","arr","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","sliceIterator","links","total","link","replace","_link$split","_link$split2","url","rel","page","parseInt","last","prev","first","Math","max","current","_admin2","refreshPromises","currentUser","forbiddenUpdateAttributes","forbiddenSaveAttributes","User","_processTokenResponse","attributes","_saveUserData","_refreshSavedSession","forceRefresh","_tokenDetails","tokenDetails","expires_at","refresh_token","access_token","Date","now","_refreshToken","resolve","clearSession","jwt","Authorization","fromStorage","claims","str","output","result","atob","decodeURIComponent","escape","urlBase64Decode","exp","localStorage","getItem","setItem","_details","userCopy","removeItem","apiInstance","ex","Admin","id","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","chars","InvalidCharacterError","input","String","bs","buffer","bc","idx","charAt","fromCharCode","indexOf","GitHubAPI_API","external_netlify_cms_backend_github_","config","super","api_root","tokenPromise","commitAuthor","repoURL","hasWriteAccess","getBranch","external_netlify_cms_lib_util_","getRequestHeaders","jwtToken","_objectSpread","urlFor","params","getTime","join","responseStatus","commit","changeTree","commitParams","tree","sha","parents","parentSha","author","date","toISOString","GitLabAPI_API","external_netlify_cms_backend_gitlab_","GitLabAPI_defineProperty","async","withHeaders","req","flow_default","buildRequest","authenticateRequest","performRequest","LoginButton","external_react_emotion_default","external_netlify_cms_ui_default_","button","dropDeep","gray","AuthForm","AuthInput","white","borderRadius","active","ErrorMessage","errorText","component","netlifyIdentity","on","handleIdentityLogin","handleIdentityLogout","AuthenticationPage_GitGatewayAuthenticationPage","external_react_default","a","Component","AuthenticationPage_defineProperty","onLogin","close","open","errors","setState","AuthenticationPage_objectSpread","state","[object Object]","preventDefault","_this$state","authClient","login","server","description","loggingIn","componentDidMount","loggedIn","componentWillUnmount","render","_this$props","inProgress","createElement","logoUrl","handleIdentity","renderButtonContent","renderPageContent","onSubmit","handleLogin","placeholder","onChange","partial_default","handleChange","disabled","external_prop_types_default","func","bool","node","ImmutablePropTypes_default","localHosts","localhost","127.0.0.1","0.0.0.0","defaults","identity","gateway","getEndpoint","endpoint","netlifySiteURL","document","host","shift","parts","implementation_GitGateway","implementation_defineProperty","implementation_objectSpread","proxied","branch","getIn","trim","squash_merges","gatewayUrl","backendTypeRegex","backendTypeMatches","backendType","gotrue","lib_default","backend","authenticate","res","includes","github_enabled","gitlab_enabled","bitbucket_enabled","roles","acceptRoles","userRoles","get_default","jwt_decode_lib_default","intersection_default","userData","user_metadata","full_name","avatar_url","metadata","apiConfig","pick_default","initialWorkflowStatus","external_netlify_cms_backend_bitbucket_","requestFunction","restoreUser","authComponent","logout","getToken","entriesByFolder","collection","extension","entriesByFiles","fetchFiles","files","getEntry","slug","getMedia","persistEntry","entry","mediaFiles","persistMedia","mediaFile","deleteFile","commitMessage","unpublishedEntries","unpublishedEntry","updateUnpublishedEntryStatus","newStatus","deleteUnpublishedEntry","publishUnpublishedEntry","traverseCursor","cursor","action"],"mappings":"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","file":"dist/netlify-cms-backend-git-gateway.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"netlify-cms-lib-util\"), require(\"react\"), require(\"netlify-cms-ui-default\"), require(\"react-emotion\"), require(\"netlify-cms-backend-github\"), require(\"netlify-cms-backend-gitlab\"), require(\"prop-types\"), require(\"netlify-cms-backend-bitbucket\"), require(\"lodash/partial\"), require(\"lodash/intersection\"), require(\"lodash/pick\"), require(\"lodash/get\"), require(\"lodash/flow\"), require(\"immutable\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"netlify-cms-backend-git-gateway\", [\"netlify-cms-lib-util\", \"react\", \"netlify-cms-ui-default\", \"react-emotion\", \"netlify-cms-backend-github\", \"netlify-cms-backend-gitlab\", \"prop-types\", \"netlify-cms-backend-bitbucket\", \"lodash/partial\", \"lodash/intersection\", \"lodash/pick\", \"lodash/get\", \"lodash/flow\", \"immutable\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"netlify-cms-backend-git-gateway\"] = factory(require(\"netlify-cms-lib-util\"), require(\"react\"), require(\"netlify-cms-ui-default\"), require(\"react-emotion\"), require(\"netlify-cms-backend-github\"), require(\"netlify-cms-backend-gitlab\"), require(\"prop-types\"), require(\"netlify-cms-backend-bitbucket\"), require(\"lodash/partial\"), require(\"lodash/intersection\"), require(\"lodash/pick\"), require(\"lodash/get\"), require(\"lodash/flow\"), require(\"immutable\"));\n\telse\n\t\troot[\"netlify-cms-backend-git-gateway\"] = factory(root[\"netlify-cms-lib-util\"], root[\"react\"], root[\"netlify-cms-ui-default\"], root[\"react-emotion\"], root[\"netlify-cms-backend-github\"], root[\"netlify-cms-backend-gitlab\"], root[\"prop-types\"], root[\"netlify-cms-backend-bitbucket\"], root[\"lodash/partial\"], root[\"lodash/intersection\"], root[\"lodash/pick\"], root[\"lodash/get\"], root[\"lodash/flow\"], root[\"immutable\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__8__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__11__, __WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__16__, __WEBPACK_EXTERNAL_MODULE__22__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JSONHTTPError = exports.TextHTTPError = exports.HTTPError = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _pagination = require(\"./pagination\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nvar HTTPError = exports.HTTPError = function (_extendableBuiltin2) {\n  _inherits(HTTPError, _extendableBuiltin2);\n\n  function HTTPError(response) {\n    _classCallCheck(this, HTTPError);\n\n    var _this = _possibleConstructorReturn(this, (HTTPError.__proto__ || Object.getPrototypeOf(HTTPError)).call(this, response.statusText));\n\n    _this.name = _this.constructor.name;\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(_this, _this.constructor);\n    } else {\n      _this.stack = new Error(response.statusText).stack;\n    }\n    _this.status = response.status;\n    return _this;\n  }\n\n  return HTTPError;\n}(_extendableBuiltin(Error));\n\nvar TextHTTPError = exports.TextHTTPError = function (_HTTPError) {\n  _inherits(TextHTTPError, _HTTPError);\n\n  function TextHTTPError(response, data) {\n    _classCallCheck(this, TextHTTPError);\n\n    var _this2 = _possibleConstructorReturn(this, (TextHTTPError.__proto__ || Object.getPrototypeOf(TextHTTPError)).call(this, response));\n\n    _this2.data = data;\n    return _this2;\n  }\n\n  return TextHTTPError;\n}(HTTPError);\n\nvar JSONHTTPError = exports.JSONHTTPError = function (_HTTPError2) {\n  _inherits(JSONHTTPError, _HTTPError2);\n\n  function JSONHTTPError(response, json) {\n    _classCallCheck(this, JSONHTTPError);\n\n    var _this3 = _possibleConstructorReturn(this, (JSONHTTPError.__proto__ || Object.getPrototypeOf(JSONHTTPError)).call(this, response));\n\n    _this3.json = json;\n    return _this3;\n  }\n\n  return JSONHTTPError;\n}(HTTPError);\n\nvar API = function () {\n  function API() {\n    var apiURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var options = arguments[1];\n\n    _classCallCheck(this, API);\n\n    this.apiURL = apiURL;\n    if (this.apiURL.match(/\\/[^\\/]?/)) {\n      // eslint-disable-line no-useless-escape\n      this._sameOrigin = true;\n    }\n    this.defaultHeaders = options && options.defaultHeaders || {};\n  }\n\n  _createClass(API, [{\n    key: \"headers\",\n    value: function headers() {\n      var _headers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _extends({}, this.defaultHeaders, {\n        \"Content-Type\": \"application/json\"\n      }, _headers);\n    }\n  }, {\n    key: \"parseJsonResponse\",\n    value: function parseJsonResponse(response) {\n      return response.json().then(function (json) {\n        if (!response.ok) {\n          return Promise.reject(new JSONHTTPError(response, json));\n        }\n\n        var pagination = (0, _pagination.getPagination)(response);\n        return pagination ? { pagination: pagination, items: json } : json;\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function request(path) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var headers = this.headers(options.headers || {});\n      if (this._sameOrigin) {\n        options.credentials = options.credentials || \"same-origin\";\n      }\n      return fetch(this.apiURL + path, _extends({}, options, { headers: headers })).then(function (response) {\n        var contentType = response.headers.get(\"Content-Type\");\n        if (contentType && contentType.match(/json/)) {\n          return _this4.parseJsonResponse(response);\n        }\n\n        if (!response.ok) {\n          return response.text().then(function (data) {\n            return Promise.reject(new TextHTTPError(response, data));\n          });\n        }\n        return response.text().then(function (data) {\n          data;\n        });\n      });\n    }\n  }]);\n\n  return API;\n}();\n\nexports.default = API;","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _microApiClient = require(\"micro-api-client\");\n\nvar _microApiClient2 = _interopRequireDefault(_microApiClient);\n\nvar _user = require(\"./user\");\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HTTPRegexp = /^http:\\/\\//;\nvar defaultApiURL = \"/.netlify/identity\";\n\nvar GoTrue = function () {\n  function GoTrue() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$APIUrl = _ref.APIUrl,\n        APIUrl = _ref$APIUrl === undefined ? defaultApiURL : _ref$APIUrl,\n        _ref$audience = _ref.audience,\n        audience = _ref$audience === undefined ? \"\" : _ref$audience,\n        _ref$setCookie = _ref.setCookie,\n        setCookie = _ref$setCookie === undefined ? false : _ref$setCookie;\n\n    _classCallCheck(this, GoTrue);\n\n    if (APIUrl.match(HTTPRegexp)) {\n      console.warn(\"Warning:\\n\\nDO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!\\nGoTrue REQUIRES HTTPS to work securely.\");\n    }\n\n    if (audience) {\n      this.audience = audience;\n    }\n\n    this.setCookie = setCookie;\n\n    this.api = new _microApiClient2.default(APIUrl);\n  }\n\n  _createClass(GoTrue, [{\n    key: \"_request\",\n    value: function _request(path) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      options.headers = options.headers || {};\n      var aud = options.audience || this.audience;\n      if (aud) {\n        options.headers[\"X-JWT-AUD\"] = aud;\n      }\n      return this.api.request(path, options).catch(function (err) {\n        if (err instanceof _microApiClient.JSONHTTPError && err.json) {\n          if (err.json.msg) {\n            err.message = err.json.msg;\n          } else if (err.json.error) {\n            err.message = err.json.error + \": \" + err.json.error_description;\n          }\n        }\n        return Promise.reject(err);\n      });\n    }\n  }, {\n    key: \"settings\",\n    value: function settings() {\n      return this._request(\"/settings\");\n    }\n  }, {\n    key: \"signup\",\n    value: function signup(email, password, data) {\n      return this._request(\"/signup\", {\n        method: \"POST\",\n        body: JSON.stringify({ email: email, password: password, data: data })\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(email, password, remember) {\n      var _this = this;\n\n      this._setRememberHeaders(remember);\n      return this._request(\"/token\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: \"grant_type=password&username=\" + encodeURIComponent(email) + \"&password=\" + encodeURIComponent(password)\n      }).then(function (response) {\n        _user2.default.removeSavedSession();\n        return _this.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"loginExternalUrl\",\n    value: function loginExternalUrl(provider) {\n      return this.api.apiURL + \"/authorize?provider=\" + provider;\n    }\n  }, {\n    key: \"confirm\",\n    value: function confirm(token, remember) {\n      this._setRememberHeaders(remember);\n      return this.verify(\"signup\", token, remember);\n    }\n  }, {\n    key: \"requestPasswordRecovery\",\n    value: function requestPasswordRecovery(email) {\n      return this._request(\"/recover\", {\n        method: \"POST\",\n        body: JSON.stringify({ email: email })\n      });\n    }\n  }, {\n    key: \"recover\",\n    value: function recover(token, remember) {\n      this._setRememberHeaders(remember);\n      return this.verify(\"recovery\", token, remember);\n    }\n  }, {\n    key: \"acceptInvite\",\n    value: function acceptInvite(token, password, remember) {\n      var _this2 = this;\n\n      this._setRememberHeaders(remember);\n      return this._request(\"/verify\", {\n        method: \"POST\",\n        body: JSON.stringify({ token: token, password: password, type: \"signup\" })\n      }).then(function (response) {\n        return _this2.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"acceptInviteExternalUrl\",\n    value: function acceptInviteExternalUrl(provider, token) {\n      return this.api.apiURL + \"/authorize?provider=\" + provider + \"&invite_token=\" + token;\n    }\n  }, {\n    key: \"createUser\",\n    value: function createUser(tokenResponse) {\n      var remember = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this._setRememberHeaders(remember);\n      var user = new _user2.default(this.api, tokenResponse, this.audience);\n      return user.getUserData().then(function (user) {\n        if (remember) {\n          user._saveSession();\n        }\n        return user;\n      });\n    }\n  }, {\n    key: \"currentUser\",\n    value: function currentUser() {\n      var user = _user2.default.recoverSession(this.api);\n      user && this._setRememberHeaders(user._fromStorage);\n      return user;\n    }\n  }, {\n    key: \"verify\",\n    value: function verify(type, token, remember) {\n      var _this3 = this;\n\n      this._setRememberHeaders(remember);\n      return this._request(\"/verify\", {\n        method: \"POST\",\n        body: JSON.stringify({ token: token, type: type })\n      }).then(function (response) {\n        return _this3.createUser(response, remember);\n      });\n    }\n  }, {\n    key: \"_setRememberHeaders\",\n    value: function _setRememberHeaders(remember) {\n      if (this.setCookie) {\n        this.api.defaultHeaders = this.api.defaultHeaders || {};\n        this.api.defaultHeaders[\"X-Use-Cookie\"] = remember ? \"1\" : \"session\";\n      }\n    }\n  }]);\n\n  return GoTrue;\n}();\n\nexports.default = GoTrue;\n\n\nif (typeof window !== \"undefined\") {\n  window.GoTrue = GoTrue;\n}","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n","/**\n * This is a straight rip-off of the React.js ReactPropTypes.js proptype validators,\n * modified to make it possible to validate Immutable.js data.\n *     ImmutableTypes.listOf is patterned after React.PropTypes.arrayOf, but for Immutable.List\n *     ImmutableTypes.shape  is based on React.PropTypes.shape, but for any Immutable.Iterable\n */\n\"use strict\";\n\nvar Immutable = require(\"immutable\");\n\nvar ANONYMOUS = \"<<anonymous>>\";\n\nvar ImmutablePropTypes = {\n  listOf: createListOfTypeChecker,\n  mapOf: createMapOfTypeChecker,\n  orderedMapOf: createOrderedMapOfTypeChecker,\n  setOf: createSetOfTypeChecker,\n  orderedSetOf: createOrderedSetOfTypeChecker,\n  stackOf: createStackOfTypeChecker,\n  iterableOf: createIterableOfTypeChecker,\n  recordOf: createRecordOfTypeChecker,\n  shape: createShapeChecker,\n  contains: createShapeChecker,\n  mapContains: createMapContainsChecker,\n  // Primitive Types\n  list: createImmutableTypeChecker(\"List\", Immutable.List.isList),\n  map: createImmutableTypeChecker(\"Map\", Immutable.Map.isMap),\n  orderedMap: createImmutableTypeChecker(\"OrderedMap\", Immutable.OrderedMap.isOrderedMap),\n  set: createImmutableTypeChecker(\"Set\", Immutable.Set.isSet),\n  orderedSet: createImmutableTypeChecker(\"OrderedSet\", Immutable.OrderedSet.isOrderedSet),\n  stack: createImmutableTypeChecker(\"Stack\", Immutable.Stack.isStack),\n  seq: createImmutableTypeChecker(\"Seq\", Immutable.Seq.isSeq),\n  record: createImmutableTypeChecker(\"Record\", function (isRecord) {\n    return isRecord instanceof Immutable.Record;\n  }),\n  iterable: createImmutableTypeChecker(\"Iterable\", Immutable.Iterable.isIterable)\n};\n\nfunction getPropType(propValue) {\n  var propType = typeof propValue;\n  if (Array.isArray(propValue)) {\n    return \"array\";\n  }\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return \"object\";\n  }\n  if (propValue instanceof Immutable.Iterable) {\n    return \"Immutable.\" + propValue.toSource().split(\" \")[0];\n  }\n  return propType;\n}\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      rest[_key - 6] = arguments[_key];\n    }\n\n    propFullName = propFullName || propName;\n    componentName = componentName || ANONYMOUS;\n    if (props[propName] == null) {\n      var locationName = location;\n      if (isRequired) {\n        return new Error(\"Required \" + locationName + \" `\" + propFullName + \"` was not specified in \" + (\"`\" + componentName + \"`.\"));\n      }\n    } else {\n      return validate.apply(undefined, [props, propName, componentName, location, propFullName].concat(rest));\n    }\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\n\nfunction createImmutableTypeChecker(immutableClassName, immutableClassTypeValidator) {\n  function validate(props, propName, componentName, location, propFullName) {\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var propType = getPropType(propValue);\n      return new Error(\"Invalid \" + location + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected `\" + immutableClassName + \"`.\"));\n    }\n    return null;\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createIterableTypeChecker(typeChecker, immutableClassName, immutableClassTypeValidator) {\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var locationName = location;\n      var propType = getPropType(propValue);\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type \" + (\"`\" + propType + \"` supplied to `\" + componentName + \"`, expected an Immutable.js \" + immutableClassName + \".\"));\n    }\n\n    if (typeof typeChecker !== \"function\") {\n      return new Error(\"Invalid typeChecker supplied to `\" + componentName + \"` \" + (\"for propType `\" + propFullName + \"`, expected a function.\"));\n    }\n\n    var propValues = propValue.toArray();\n    for (var i = 0, len = propValues.length; i < len; i++) {\n      var error = typeChecker.apply(undefined, [propValues, i, componentName, location, \"\" + propFullName + \"[\" + i + \"]\"].concat(rest));\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createKeysTypeChecker(typeChecker) {\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (typeof typeChecker !== \"function\") {\n      return new Error(\"Invalid keysTypeChecker (optional second argument) supplied to `\" + componentName + \"` \" + (\"for propType `\" + propFullName + \"`, expected a function.\"));\n    }\n\n    var keys = propValue.keySeq().toArray();\n    for (var i = 0, len = keys.length; i < len; i++) {\n      var error = typeChecker.apply(undefined, [keys, i, componentName, location, \"\" + propFullName + \" -> key(\" + keys[i] + \")\"].concat(rest));\n      if (error instanceof Error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createListOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"List\", Immutable.List.isList);\n}\n\nfunction createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, immutableClassName, immutableClassTypeValidator) {\n  function validate() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return createIterableTypeChecker(valuesTypeChecker, immutableClassName, immutableClassTypeValidator).apply(undefined, args) || keysTypeChecker && createKeysTypeChecker(keysTypeChecker).apply(undefined, args);\n  }\n\n  return createChainableTypeChecker(validate);\n}\n\nfunction createMapOfTypeChecker(valuesTypeChecker, keysTypeChecker) {\n  return createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, \"Map\", Immutable.Map.isMap);\n}\n\nfunction createOrderedMapOfTypeChecker(valuesTypeChecker, keysTypeChecker) {\n  return createMapOfTypeCheckerFactory(valuesTypeChecker, keysTypeChecker, \"OrderedMap\", Immutable.OrderedMap.isOrderedMap);\n}\n\nfunction createSetOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Set\", Immutable.Set.isSet);\n}\n\nfunction createOrderedSetOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"OrderedSet\", Immutable.OrderedSet.isOrderedSet);\n}\n\nfunction createStackOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Stack\", Immutable.Stack.isStack);\n}\n\nfunction createIterableOfTypeChecker(typeChecker) {\n  return createIterableTypeChecker(typeChecker, \"Iterable\", Immutable.Iterable.isIterable);\n}\n\nfunction createRecordOfTypeChecker(recordKeys) {\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!(propValue instanceof Immutable.Record)) {\n      var propType = getPropType(propValue);\n      var locationName = location;\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected an Immutable.js Record.\"));\n    }\n    for (var key in recordKeys) {\n      var checker = recordKeys[key];\n      if (!checker) {\n        continue;\n      }\n      var mutablePropValue = propValue.toObject();\n      var error = checker.apply(undefined, [mutablePropValue, key, componentName, location, \"\" + propFullName + \".\" + key].concat(rest));\n      if (error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\n// there is some irony in the fact that shapeTypes is a standard hash and not an immutable collection\nfunction createShapeTypeChecker(shapeTypes) {\n  var immutableClassName = arguments[1] === undefined ? \"Iterable\" : arguments[1];\n  var immutableClassTypeValidator = arguments[2] === undefined ? Immutable.Iterable.isIterable : arguments[2];\n\n  function validate(props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {\n      rest[_key - 5] = arguments[_key];\n    }\n\n    var propValue = props[propName];\n    if (!immutableClassTypeValidator(propValue)) {\n      var propType = getPropType(propValue);\n      var locationName = location;\n      return new Error(\"Invalid \" + locationName + \" `\" + propFullName + \"` of type `\" + propType + \"` \" + (\"supplied to `\" + componentName + \"`, expected an Immutable.js \" + immutableClassName + \".\"));\n    }\n    var mutablePropValue = propValue.toObject();\n    for (var key in shapeTypes) {\n      var checker = shapeTypes[key];\n      if (!checker) {\n        continue;\n      }\n      var error = checker.apply(undefined, [mutablePropValue, key, componentName, location, \"\" + propFullName + \".\" + key].concat(rest));\n      if (error) {\n        return error;\n      }\n    }\n  }\n  return createChainableTypeChecker(validate);\n}\n\nfunction createShapeChecker(shapeTypes) {\n  return createShapeTypeChecker(shapeTypes);\n}\n\nfunction createMapContainsChecker(shapeTypes) {\n  return createShapeTypeChecker(shapeTypes, \"Map\", Immutable.Map.isMap);\n}\n\nmodule.exports = ImmutablePropTypes;","module.exports = __WEBPACK_EXTERNAL_MODULE__16__;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.getPagination = getPagination;\nfunction getPagination(response) {\n  var links = response.headers.get(\"Link\");\n  var pagination = {};\n  //var link, url, rel, m, page;\n  if (links == null) {\n    return null;\n  }\n  links = links.split(\",\");\n  var total = response.headers.get(\"X-Total-Count\");\n\n  for (var i = 0, len = links.length; i < len; i++) {\n    var link = links[i].replace(/(^\\s*|\\s*$)/, \"\");\n\n    var _link$split = link.split(\";\"),\n        _link$split2 = _slicedToArray(_link$split, 2),\n        url = _link$split2[0],\n        rel = _link$split2[1];\n\n    var m = url.match(/page=(\\d+)/);\n    var page = m && parseInt(m[1], 10);\n    if (rel.match(/last/)) {\n      pagination.last = page;\n    } else if (rel.match(/next/)) {\n      pagination.next = page;\n    } else if (rel.match(/prev/)) {\n      pagination.prev = page;\n    } else if (rel.match(/first/)) {\n      pagination.first = page;\n    }\n  }\n\n  pagination.last = Math.max(pagination.last || 0, pagination.prev && pagination.prev + 1 || 0);\n  pagination.current = pagination.next ? pagination.next - 1 : pagination.last || 1;\n  pagination.total = total ? parseInt(total, 10) : null;\n\n  return pagination;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _microApiClient = require(\"micro-api-client\");\n\nvar _microApiClient2 = _interopRequireDefault(_microApiClient);\n\nvar _admin = require(\"./admin\");\n\nvar _admin2 = _interopRequireDefault(_admin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ExpiryMargin = 60 * 1000;\nvar storageKey = \"gotrue.user\";\nvar refreshPromises = {};\nvar currentUser = null;\nvar forbiddenUpdateAttributes = { api: 1, token: 1, audience: 1, url: 1 };\nvar forbiddenSaveAttributes = { api: 1 };\n\nvar User = function () {\n  function User(api, tokenResponse, audience) {\n    _classCallCheck(this, User);\n\n    this.api = api;\n    this.url = api.apiURL;\n    this.audience = audience;\n    this._processTokenResponse(tokenResponse);\n    currentUser = this;\n  }\n\n  _createClass(User, [{\n    key: \"update\",\n    value: function update(attributes) {\n      var _this = this;\n\n      return this._request(\"/user\", {\n        method: \"PUT\",\n        body: JSON.stringify(attributes)\n      }).then(function (response) {\n        return _this._saveUserData(response)._refreshSavedSession();\n      });\n    }\n  }, {\n    key: \"jwt\",\n    value: function jwt(forceRefresh) {\n      var _tokenDetails = this.tokenDetails(),\n          expires_at = _tokenDetails.expires_at,\n          refresh_token = _tokenDetails.refresh_token,\n          access_token = _tokenDetails.access_token;\n\n      if (forceRefresh || expires_at - ExpiryMargin < Date.now()) {\n        return this._refreshToken(refresh_token);\n      }\n      return Promise.resolve(access_token);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      return this._request(\"/logout\", { method: \"POST\" }).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this));\n    }\n  }, {\n    key: \"_refreshToken\",\n    value: function _refreshToken(refresh_token) {\n      var _this2 = this;\n\n      if (refreshPromises[refresh_token]) {\n        return refreshPromises[refresh_token];\n      }\n      return refreshPromises[refresh_token] = this.api.request(\"/token\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: \"grant_type=refresh_token&refresh_token=\" + refresh_token\n      }).then(function (response) {\n        delete refreshPromises[refresh_token];\n        _this2._processTokenResponse(response);\n        _this2._refreshSavedSession();\n        return _this2.token.access_token;\n      }).catch(function (error) {\n        delete refreshPromises[refresh_token];\n        _this2.clearSession();\n        return Promise.reject(error);\n      });\n    }\n  }, {\n    key: \"_request\",\n    value: function _request(path) {\n      var _this3 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      options.headers = options.headers || {};\n\n      var aud = options.audience || this.audience;\n      if (aud) {\n        options.headers[\"X-JWT-AUD\"] = aud;\n      }\n\n      return this.jwt().then(function (token) {\n        return _this3.api.request(path, _extends({\n          headers: Object.assign(options.headers, {\n            Authorization: \"Bearer \" + token\n          })\n        }, options)).catch(function (err) {\n          if (err instanceof _microApiClient.JSONHTTPError && err.json) {\n            if (err.json.msg) {\n              err.message = err.json.msg;\n            } else if (err.json.error) {\n              err.message = err.json.error + \": \" + err.json.error_description;\n            }\n          }\n          return Promise.reject(err);\n        });\n      });\n    }\n  }, {\n    key: \"getUserData\",\n    value: function getUserData() {\n      return this._request(\"/user\").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this));\n    }\n  }, {\n    key: \"_saveUserData\",\n    value: function _saveUserData(attributes, fromStorage) {\n      for (var key in attributes) {\n        if (key in User.prototype || key in forbiddenUpdateAttributes) {\n          continue;\n        }\n        this[key] = attributes[key];\n      }\n      if (fromStorage) {\n        this._fromStorage = true;\n      }\n      return this;\n    }\n  }, {\n    key: \"_processTokenResponse\",\n    value: function _processTokenResponse(tokenResponse) {\n      this.token = tokenResponse;\n      var claims = void 0;\n      try {\n        claims = JSON.parse(urlBase64Decode(tokenResponse.access_token.split(\".\")[1]));\n        this.token.expires_at = claims.exp * 1000;\n      } catch (e) {\n        console.error(new Error(\"Gotrue-js: Failed to parse tokenResponse claims: \" + JSON.stringify(tokenResponse)));\n      }\n    }\n  }, {\n    key: \"_refreshSavedSession\",\n    value: function _refreshSavedSession() {\n      // only update saved session if we previously saved something\n      if (localStorage.getItem(storageKey)) {\n        this._saveSession();\n      }\n      return this;\n    }\n  }, {\n    key: \"_saveSession\",\n    value: function _saveSession() {\n      localStorage.setItem(storageKey, JSON.stringify(this._details));\n      return this;\n    }\n  }, {\n    key: \"tokenDetails\",\n    value: function tokenDetails() {\n      return this.token;\n    }\n  }, {\n    key: \"clearSession\",\n    value: function clearSession() {\n      User.removeSavedSession();\n      this.token = null;\n      currentUser = null;\n    }\n  }, {\n    key: \"admin\",\n    get: function get() {\n      return new _admin2.default(this);\n    }\n  }, {\n    key: \"_details\",\n    get: function get() {\n      var userCopy = {};\n      for (var key in this) {\n        if (key in User.prototype || key in forbiddenSaveAttributes) {\n          continue;\n        }\n        userCopy[key] = this[key];\n      }\n      return userCopy;\n    }\n  }], [{\n    key: \"removeSavedSession\",\n    value: function removeSavedSession() {\n      localStorage.removeItem(storageKey);\n    }\n  }, {\n    key: \"recoverSession\",\n    value: function recoverSession(apiInstance) {\n      if (currentUser) {\n        return currentUser;\n      }\n\n      var json = localStorage.getItem(storageKey);\n      if (json) {\n        try {\n          var data = JSON.parse(json);\n          var url = data.url,\n              token = data.token,\n              audience = data.audience;\n\n          if (!url || !token) {\n            return null;\n          }\n\n          var api = apiInstance || new _microApiClient2.default(url, {});\n          return new User(api, token, audience)._saveUserData(data, true);\n        } catch (ex) {\n          console.error(new Error(\"Gotrue-js: Error recovering session: \" + ex));\n          return null;\n        }\n      }\n\n      return null;\n    }\n  }]);\n\n  return User;\n}();\n\nexports.default = User;\n\n\nfunction urlBase64Decode(str) {\n  // From https://jwt.io/js/jwt.js\n  var output = str.replace(/-/g, '+').replace(/_/g, '/');\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += '==';\n      break;\n    case 3:\n      output += '=';\n      break;\n    default:\n      throw 'Illegal base64url string!';\n  }\n  var result = window.atob(output); //polifyll https://github.com/davidchambers/Base64.js\n  try {\n    return decodeURIComponent(escape(result));\n  } catch (err) {\n    return result;\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Admin = function () {\n  function Admin(user) {\n    _classCallCheck(this, Admin);\n\n    this.user = user;\n  }\n\n  // Return a list of all users in an audience\n\n\n  _createClass(Admin, [{\n    key: \"listUsers\",\n    value: function listUsers(aud) {\n      return this.user._request(\"/admin/users\", {\n        method: \"GET\",\n        audience: aud\n      });\n    }\n  }, {\n    key: \"getUser\",\n    value: function getUser(user) {\n      return this.user._request(\"/admin/users/\" + user.id);\n    }\n  }, {\n    key: \"updateUser\",\n    value: function updateUser(user) {\n      var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return this.user._request(\"/admin/users/\" + user.id, {\n        method: \"PUT\",\n        body: JSON.stringify(attributes)\n      });\n    }\n  }, {\n    key: \"createUser\",\n    value: function createUser(email, password) {\n      var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      attributes.email = email;\n      attributes.password = password;\n      return this.user._request(\"/admin/users\", {\n        method: \"POST\",\n        body: JSON.stringify(attributes)\n      });\n    }\n  }, {\n    key: \"deleteUser\",\n    value: function deleteUser(user) {\n      return this.user._request(\"/admin/users/\" + user.id, {\n        method: \"DELETE\"\n      });\n    }\n  }]);\n\n  return Admin;\n}();\n\nexports.default = Admin;","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","import { API as GithubAPI } from 'netlify-cms-backend-github';\nimport { APIError } from 'netlify-cms-lib-util';\n\nexport default class API extends GithubAPI {\n  constructor(config) {\n    super(config);\n    this.api_root = config.api_root;\n    this.tokenPromise = config.tokenPromise;\n    this.commitAuthor = config.commitAuthor;\n    this.repoURL = '';\n  }\n\n  hasWriteAccess() {\n    return this.getBranch()\n      .then(() => true)\n      .catch(error => {\n        if (error.status === 401) {\n          if (error.message === 'Bad credentials') {\n            throw new APIError(\n              'Git Gateway Error: Please ask your site administrator to reissue the Git Gateway token.',\n              error.status,\n              'Git Gateway',\n            );\n          } else {\n            return false;\n          }\n        } else if (\n          error.status === 404 &&\n          (error.message === undefined || error.message === 'Unable to locate site configuration')\n        ) {\n          throw new APIError(\n            `Git Gateway Error: Please make sure Git Gateway is enabled on your site.`,\n            error.status,\n            'Git Gateway',\n          );\n        } else {\n          console.error('Problem fetching repo data from Git Gateway');\n          throw error;\n        }\n      });\n  }\n\n  getRequestHeaders(headers = {}) {\n    return this.tokenPromise().then(jwtToken => {\n      const baseHeader = {\n        Authorization: `Bearer ${jwtToken}`,\n        'Content-Type': 'application/json',\n        ...headers,\n      };\n\n      return baseHeader;\n    });\n  }\n\n  urlFor(path, options) {\n    const cacheBuster = new Date().getTime();\n    const params = [`ts=${cacheBuster}`];\n    if (options.params) {\n      for (const key in options.params) {\n        params.push(`${key}=${encodeURIComponent(options.params[key])}`);\n      }\n    }\n    if (params.length) {\n      path += `?${params.join('&')}`;\n    }\n    return this.api_root + path;\n  }\n\n  user() {\n    return Promise.resolve(this.commitAuthor);\n  }\n\n  request(path, options = {}) {\n    const url = this.urlFor(path, options);\n    let responseStatus;\n    return this.getRequestHeaders(options.headers || {})\n      .then(headers => fetch(url, { ...options, headers }))\n      .then(response => {\n        responseStatus = response.status;\n        const contentType = response.headers.get('Content-Type');\n        if (contentType && contentType.match(/json/)) {\n          return this.parseJsonResponse(response);\n        }\n        const text = response.text();\n        if (!response.ok) {\n          return Promise.reject(text);\n        }\n        return text;\n      })\n      .catch(error => {\n        throw new APIError(error.message || error.msg, responseStatus, 'Git Gateway');\n      });\n  }\n\n  commit(message, changeTree) {\n    const commitParams = {\n      message,\n      tree: changeTree.sha,\n      parents: changeTree.parentSha ? [changeTree.parentSha] : [],\n    };\n\n    if (this.commitAuthor) {\n      commitParams.author = {\n        ...this.commitAuthor,\n        date: new Date().toISOString(),\n      };\n    }\n\n    return this.request('/git/commits', {\n      method: 'POST',\n      body: JSON.stringify(commitParams),\n    });\n  }\n}\n","import { flow } from 'lodash';\nimport { API as GitlabAPI } from 'netlify-cms-backend-gitlab';\nimport { unsentRequest, then } from 'netlify-cms-lib-util';\n\nexport default class API extends GitlabAPI {\n  constructor(config) {\n    super(config);\n    this.tokenPromise = config.tokenPromise;\n    this.commitAuthor = config.commitAuthor;\n    this.repoURL = '';\n  }\n\n  authenticateRequest = async req =>\n    unsentRequest.withHeaders(\n      {\n        Authorization: `Bearer ${await this.tokenPromise()}`,\n      },\n      req,\n    );\n\n  request = async req =>\n    flow([this.buildRequest, this.authenticateRequest, then(unsentRequest.performRequest)])(req);\n\n  hasWriteAccess = () => Promise.resolve(true);\n}\n","import PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport React from 'react';\nimport styled from 'react-emotion';\nimport { partial } from 'lodash';\nimport {\n  AuthenticationPage,\n  buttons,\n  shadows,\n  colors,\n  colorsRaw,\n  lengths,\n} from 'netlify-cms-ui-default';\n\nconst LoginButton = styled.button`\n  ${buttons.button};\n  ${shadows.dropDeep};\n  ${buttons.default};\n  ${buttons.gray};\n\n  padding: 0 30px;\n  display: block;\n  margin-top: 20px;\n  margin-left: auto;\n`;\n\nconst AuthForm = styled.form`\n  width: 350px;\n  margin-top: -80px;\n`;\n\nconst AuthInput = styled.input`\n  background-color: ${colorsRaw.white};\n  border-radius: ${lengths.borderRadius};\n\n  font-size: 14px;\n  padding: 10px 10px;\n  margin-bottom: 15px;\n  margin-top: 6px;\n  width: 100%;\n  position: relative;\n  z-index: 1;\n\n  &:focus {\n    outline: none;\n    box-shadow: inset 0 0 0 2px ${colors.active};\n  }\n`;\n\nconst ErrorMessage = styled.p`\n  color: ${colors.errorText};\n`;\n\nlet component = null;\n\nif (window.netlifyIdentity) {\n  window.netlifyIdentity.on('login', user => {\n    component && component.handleIdentityLogin(user);\n  });\n  window.netlifyIdentity.on('logout', () => {\n    component && component.handleIdentityLogout();\n  });\n}\n\nexport default class GitGatewayAuthenticationPage extends React.Component {\n  constructor(props) {\n    super(props);\n    component = this;\n  }\n\n  componentDidMount() {\n    if (!this.loggedIn && window.netlifyIdentity && window.netlifyIdentity.currentUser()) {\n      this.props.onLogin(window.netlifyIdentity.currentUser());\n      window.netlifyIdentity.close();\n    }\n  }\n\n  componentWillUnmount() {\n    component = null;\n  }\n\n  handleIdentityLogin = user => {\n    this.props.onLogin(user);\n    window.netlifyIdentity.close();\n  };\n\n  handleIdentityLogout = () => {\n    window.netlifyIdentity.open();\n  };\n\n  handleIdentity = () => {\n    const user = window.netlifyIdentity.currentUser();\n    if (user) {\n      this.props.onLogin(user);\n    } else {\n      window.netlifyIdentity.open();\n    }\n  };\n\n  static propTypes = {\n    onLogin: PropTypes.func.isRequired,\n    inProgress: PropTypes.bool.isRequired,\n    error: PropTypes.node,\n    config: ImmutablePropTypes.map,\n  };\n\n  state = { email: '', password: '', errors: {} };\n\n  handleChange = (name, e) => {\n    this.setState({ ...this.state, [name]: e.target.value });\n  };\n\n  handleLogin = e => {\n    e.preventDefault();\n\n    const { email, password } = this.state;\n    const errors = {};\n    if (!email) {\n      errors.email = 'Make sure to enter your email.';\n    }\n    if (!password) {\n      errors.password = 'Please enter your password.';\n    }\n\n    if (Object.keys(errors).length > 0) {\n      this.setState({ errors });\n      return;\n    }\n\n    AuthenticationPage.authClient\n      .login(this.state.email, this.state.password, true)\n      .then(user => {\n        this.props.onLogin(user);\n      })\n      .catch(error => {\n        this.setState({\n          errors: { server: error.description || error.msg || error },\n          loggingIn: false,\n        });\n      });\n  };\n\n  render() {\n    const { errors } = this.state;\n    const { error, inProgress, config } = this.props;\n\n    if (window.netlifyIdentity) {\n      return (\n        <AuthenticationPage\n          logoUrl={config.get('logo_url')}\n          onLogin={this.handleIdentity}\n          renderButtonContent={() => 'Login with Netlify Identity'}\n        />\n      );\n    }\n\n    return (\n      <AuthenticationPage\n        logoUrl={config.get('logo_url')}\n        renderPageContent={() => (\n          <AuthForm onSubmit={this.handleLogin}>\n            {!error ? null : <ErrorMessage>{error}</ErrorMessage>}\n            {!errors.server ? null : <ErrorMessage>{errors.server}</ErrorMessage>}\n            <ErrorMessage>{errors.email || null}</ErrorMessage>\n            <AuthInput\n              type=\"text\"\n              name=\"email\"\n              placeholder=\"Email\"\n              value={this.state.email}\n              onChange={partial(this.handleChange, 'email')}\n            />\n            <ErrorMessage>{errors.password || null}</ErrorMessage>\n            <AuthInput\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              value={this.state.password}\n              onChange={partial(this.handleChange, 'password')}\n            />\n            <LoginButton disabled={inProgress}>\n              {inProgress ? 'Logging in...' : 'Login'}\n            </LoginButton>\n          </AuthForm>\n        )}\n      />\n    );\n  }\n}\n","import GoTrue from 'gotrue-js';\nimport jwtDecode from 'jwt-decode';\nimport { get, pick, intersection } from 'lodash';\nimport { APIError, unsentRequest } from 'netlify-cms-lib-util';\nimport { GitHubBackend } from 'netlify-cms-backend-github';\nimport { GitLabBackend } from 'netlify-cms-backend-gitlab';\nimport { BitBucketBackend, API as BitBucketAPI } from 'netlify-cms-backend-bitbucket';\nimport GitHubAPI from './GitHubAPI';\nimport GitLabAPI from './GitLabAPI';\nimport AuthenticationPage from './AuthenticationPage';\n\nconst localHosts = {\n  localhost: true,\n  '127.0.0.1': true,\n  '0.0.0.0': true,\n};\nconst defaults = {\n  identity: '/.netlify/identity',\n  gateway: '/.netlify/git',\n};\n\nfunction getEndpoint(endpoint, netlifySiteURL) {\n  if (\n    localHosts[document.location.host.split(':').shift()] &&\n    netlifySiteURL &&\n    endpoint.match(/^\\/\\.netlify\\//)\n  ) {\n    const parts = [];\n    if (netlifySiteURL) {\n      parts.push(netlifySiteURL);\n      if (!netlifySiteURL.match(/\\/$/)) {\n        parts.push('/');\n      }\n    }\n    parts.push(endpoint.replace(/^\\//, ''));\n    return parts.join('');\n  }\n  return endpoint;\n}\n\nexport default class GitGateway {\n  constructor(config, options = {}) {\n    this.options = {\n      proxied: true,\n      API: null,\n      ...options,\n    };\n    this.config = config;\n    this.branch = config.getIn(['backend', 'branch'], 'master').trim();\n    this.squash_merges = config.getIn(['backend', 'squash_merges']);\n\n    const netlifySiteURL = localStorage.getItem('netlifySiteURL');\n    const APIUrl = getEndpoint(\n      config.getIn(['backend', 'identity_url'], defaults.identity),\n      netlifySiteURL,\n    );\n    this.gatewayUrl = getEndpoint(\n      config.getIn(['backend', 'gateway_url'], defaults.gateway),\n      netlifySiteURL,\n    );\n\n    const backendTypeRegex = /\\/(github|gitlab|bitbucket)\\/?$/;\n    const backendTypeMatches = this.gatewayUrl.match(backendTypeRegex);\n    if (backendTypeMatches) {\n      this.backendType = backendTypeMatches[1];\n      this.gatewayUrl = this.gatewayUrl.replace(backendTypeRegex, '');\n    } else {\n      this.backendType = null;\n    }\n\n    this.authClient = window.netlifyIdentity\n      ? window.netlifyIdentity.gotrue\n      : new GoTrue({ APIUrl });\n    AuthenticationPage.authClient = this.authClient;\n\n    this.backend = null;\n  }\n\n  requestFunction = req =>\n    this.tokenPromise()\n      .then(token => unsentRequest.withHeaders({ Authorization: `Bearer ${token}` }, req))\n      .then(unsentRequest.performRequest);\n\n  authenticate(user) {\n    this.tokenPromise = user.jwt.bind(user);\n    return this.tokenPromise().then(async token => {\n      if (!this.backendType) {\n        const { github_enabled, gitlab_enabled, bitbucket_enabled, roles } = await fetch(\n          `${this.gatewayUrl}/settings`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          },\n        ).then(async res => {\n          const contentType = res.headers.get('Content-Type');\n          if (!contentType.includes('application/json') && !contentType.includes('text/json')) {\n            throw new APIError(\n              `Your Git Gateway backend is not returning valid settings. Please make sure it is enabled.`,\n              res.status,\n              'Git Gateway',\n            );\n          }\n\n          const body = await res.json();\n\n          if (!res.ok) {\n            throw new APIError(\n              `Git Gateway Error: ${body.message ? body.message : body}`,\n              res.status,\n              'Git Gateway',\n            );\n          }\n\n          return body;\n        });\n        this.acceptRoles = roles;\n        if (github_enabled) {\n          this.backendType = 'github';\n        } else if (gitlab_enabled) {\n          this.backendType = 'gitlab';\n        } else if (bitbucket_enabled) {\n          this.backendType = 'bitbucket';\n        }\n      }\n\n      if (this.acceptRoles && this.acceptRoles.length > 0) {\n        const userRoles = get(jwtDecode(token), 'app_metadata.roles', []);\n        const validRole = intersection(userRoles, this.acceptRoles).length > 0;\n        if (!validRole) {\n          throw new Error(\"You don't have sufficient permissions to access Netlify CMS\");\n        }\n      }\n\n      const userData = {\n        name: user.user_metadata.full_name || user.email.split('@').shift(),\n        email: user.email,\n        avatar_url: user.user_metadata.avatar_url,\n        metadata: user.user_metadata,\n      };\n      const apiConfig = {\n        api_root: `${this.gatewayUrl}/${this.backendType}`,\n        branch: this.branch,\n        tokenPromise: this.tokenPromise,\n        commitAuthor: pick(userData, ['name', 'email']),\n        squash_merges: this.squash_merges,\n        initialWorkflowStatus: this.options.initialWorkflowStatus,\n      };\n\n      if (this.backendType === 'github') {\n        this.api = new GitHubAPI(apiConfig);\n        this.backend = new GitHubBackend(this.config, { ...this.options, API: this.api });\n      } else if (this.backendType === 'gitlab') {\n        this.api = new GitLabAPI(apiConfig);\n        this.backend = new GitLabBackend(this.config, { ...this.options, API: this.api });\n      } else if (this.backendType === 'bitbucket') {\n        this.api = new BitBucketAPI({\n          ...apiConfig,\n          requestFunction: this.requestFunction,\n          hasWriteAccess: async () => true,\n        });\n        this.backend = new BitBucketBackend(this.config, { ...this.options, API: this.api });\n      }\n\n      if (!(await this.api.hasWriteAccess())) {\n        throw new Error(\"You don't have sufficient permissions to access Netlify CMS\");\n      }\n    });\n  }\n  restoreUser() {\n    const user = this.authClient && this.authClient.currentUser();\n    if (!user) return Promise.reject();\n    return this.authenticate(user);\n  }\n  authComponent() {\n    return AuthenticationPage;\n  }\n  logout() {\n    if (window.netlifyIdentity) {\n      return window.netlifyIdentity.logout();\n    }\n    const user = this.authClient.currentUser();\n    return user && user.logout();\n  }\n  getToken() {\n    return this.tokenPromise();\n  }\n\n  entriesByFolder(collection, extension) {\n    return this.backend.entriesByFolder(collection, extension);\n  }\n  entriesByFiles(collection) {\n    return this.backend.entriesByFiles(collection);\n  }\n  fetchFiles(files) {\n    return this.backend.fetchFiles(files);\n  }\n  getEntry(collection, slug, path) {\n    return this.backend.getEntry(collection, slug, path);\n  }\n  getMedia() {\n    return this.backend.getMedia();\n  }\n  persistEntry(entry, mediaFiles, options) {\n    return this.backend.persistEntry(entry, mediaFiles, options);\n  }\n  persistMedia(mediaFile, options) {\n    return this.backend.persistMedia(mediaFile, options);\n  }\n  deleteFile(path, commitMessage, options) {\n    return this.backend.deleteFile(path, commitMessage, options);\n  }\n  unpublishedEntries() {\n    return this.backend.unpublishedEntries();\n  }\n  unpublishedEntry(collection, slug) {\n    return this.backend.unpublishedEntry(collection, slug);\n  }\n  updateUnpublishedEntryStatus(collection, slug, newStatus) {\n    return this.backend.updateUnpublishedEntryStatus(collection, slug, newStatus);\n  }\n  deleteUnpublishedEntry(collection, slug) {\n    return this.backend.deleteUnpublishedEntry(collection, slug);\n  }\n  publishUnpublishedEntry(collection, slug) {\n    return this.backend.publishUnpublishedEntry(collection, slug);\n  }\n  traverseCursor(cursor, action) {\n    return this.backend.traverseCursor(cursor, action);\n  }\n}\n"],"sourceRoot":""}